public class CustomThreadPoolExecutor extends ThreadPoolExecutor {

   static class CustomTask implements RunnableFuture {...

   protected  RunnableFuture newTaskFor(Callable c) {
       return new CustomTask(c);
   }
   protected  RunnableFuture newTaskFor(Runnable r, V v) {
       return new CustomTask(r, v);
   }
   // ... add constructors, etc.
 }}